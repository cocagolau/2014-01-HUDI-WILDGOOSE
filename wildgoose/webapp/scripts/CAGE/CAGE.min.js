(function(h){function g(a){this.type=a;this.eventHandlers=[]}var a=h.CAGE||{};a.event=a.event||{};a.event.emitter=a.event.emitter||{};g.prototype.add=function(a){this.eventHandlers.push(a)};g.prototype.remove=function(a){var k=this.eventHandlers,d;for(d in k)k[d]===a&&k.splice(d,1)};g.prototype.dispatch=function(){var a=this.eventHandlers,k=void 0,d;for(d in a)k=arguments[d]?arguments[d]:void 0,a[d](k)};a.event.emitter=g;"undefined"!==typeof module&&module.exports?module.exports=a:h.CAGE=a})(this);
(function(h){var g=h.document,a=h.CAGE||{},f=!1;a.util=a.util||{};"classList"in g.createElement("a")&&(f=!0);var k=function(b,e){return RegExp("^.*"+e+".*$").test(b.className)?!0:!1},d=function(b,e){this.hasClass(b,e)||(b.className=""==b.className?e:b.className+(" "+e))},c={object:{extend:function(b,e){for(var a in e)b[a]=e[a];return b}},dom:{hasClass:function(){return f?function(b,a){return b.classList.contains(a)}:k}(),addClass:function(){return f?function(b,a){return b.classList.add(a)}:d}(),removeClass:function(){return f?
function(b,a){return b.classList.remove(a)}:d}(),isDescendant:function(a,e){for(var c=e.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}},string:{trim:function(){return"trim"in String.prototype?function(a){return String.prototype.trim.call(a)}:function(a){return this.ltrim(this.rtrim(a))}}(),rtrim:function(a){return"trimRight"in String.prototype?function(a){return String.prototype.trimRight.call(a)}:function(a){return a.replace(/\s*$/,"")}}(),ltrim:function(a){return"trimLeft"in String.prototype?
function(a){return String.prototype.trimLeft.call(a)}:function(a){return a.replace(/^\s*/,"")}}()},template:{compiler:function(a,e){var f=c.string.trim(e),d;for(d in a)if(0===a[d]||a[d])f=f.replace(RegExp("\x3c%\x3d "+d+" %\x3e","gm"),a[d]);return f},getCompiler:function(){return this.compiler},get:function(b){var c=null;a.ajax.GET({url:b.url,isAsync:!1,callback:function(a){c=JSON.parse(a).data.template}});return c}}};a.util=c;"undefined"!==typeof module&&module.exports?module.exports=a:h.CAGE=a})(this);
(function(h){function g(a){this.status=this.targetEl=this.observerEl=this.interval=null;this.usable=!1;this._observer(a)}var a=h.CAGE||{};a.type=a.type||{};a.type.observer=a.type.observer||{};g.prototype={constructor:"Observer",_observer:function(a){void 0!==a&&(void 0!==a.interval&&(this.interval=a.interval),this.observerEl=a.observerEl,this.targetEl=a.targetEl,this.usable=null===this.observerEl||null===this.targetEl?!1:!0)},activate:function(){!0===this.usable&&null===this.status&&(this.status=
setInterval(this._handler.bind(this),this.interval))},deactivate:function(){clearInterval(this.status);this.status=null},_handler:function(){this._trigger(this._observe());this.deactivate()},_trigger:function(a){a.flag&&(a=new CustomEvent("observe",{detail:a}),this.observerEl.dispatchEvent(a))},_observe:function(){return null}};a.type.observer=g;"undefined"!==typeof module&&module.exports?module.exports=a:h.CAGE=a})(this);
(function(h){function g(){try{var a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){a=null}}}return a}function a(a){return"\n"===a.substring(a.length-1)?a.substring(0,a.length-1):a}function f(c){var b=c.method,e=c.headers,d=c.url,f=c.callback,h=c.data,m=c.isAsync,n=c.success,p=c.failure,s=c.error;if(void 0!=d){void 0==m&&(m=!0);var l=g();if(void 0==l)k.log("Unable to create request");else{l.open(b,d,m);void 0!==f&&
l.addEventListener("readystatechange",function(a){4==l.readyState&&200==l.status&&(a=l.responseText,"\n"===a.substring(a.length-1)&&(a=a.substring(0,a.length-1)),f(a))},!1);void 0!==n&&l.addEventListener("load",function(b){b=b.target;if(200<=l.status&&300>l.status||304==l.status){a(l.responseText);var e=JSON.parse(l.responseText),c=e.status;200<=c&&300>c||304==c?n(e):(e=new CustomEvent("error",{detail:e}),b.dispatchEvent(e))}},!1);void 0!==p&&l.addEventListener("error",function(b){void 0!==b.detail?
p(b.detail):(a(l.responseText),b=JSON.parse(l.responseText),s(b))},!1);if(void 0!==e)for(var q in e)l.setRequestHeader(q,e[q]);l.send(h)}}}var k=h.console,d=h.CAGE||{};d.ajax=d.ajax||{};d.ajax={GET:function(a){a.method="GET";f(a)},POST:function(a){a.method="POST";a.headers={"Content-Type":"application/x-www-form-urlencoded"};f(a)},PUT:function(a){a.method="PUT";a.headers={"Content-Type":"application/x-www-form-urlencoded"};f(a)},DELETE:function(a){a.method="DELETE";f(a)}};"undefined"!==typeof module&&
module.exports?module.exports=d:h.CAGE=d})(this);
(function(h){function g(a){this.el=a.element;this.template=a.template;this.transitionEffect=a.transitionEffect?a.transitionEffect:"zoom";this.afteropen=new c("afteropen");this.afterclose=new c("afterclose");this.status={data:!1};this._init()}var a=h.document,f=h.CAGE||{};f.ui=f.ui||{};f.ui.popup=f.ui.popup||{};f.ui.popup.super_type=f.ui.popup.super_type||{};var k=f.util.dom,d=f.ajax,c=f.event.emitter;g.prototype._init=function(){this.el.addEventListener("click",this.openHandler.bind(this),!1)};g.prototype.openHandler=
function(a){"!"===this.template?d.GET({url:this.templateUrl,callback:function(e){this.template=this.templateLoader(e);a.preventDefault();a.stopPropagation();this._modularizeDOM()}.bind(this)}):this._modularizeDOM()};g.prototype._modularizeDOM=function(){this._counstructDOM();this._wrapAnimation()};g.prototype._wrapAnimation=function(){a.querySelector(".popup-wrap.popup-animation").addEventListener("transitionend",this.afteropenCallbackRef.bind(this),!1)};g.prototype.afteropenCallbackRef=function(b){"-webkit-transform"===
b.propertyName&&!1===this.status.data&&(a.querySelector(".popup-wrap.popup-animation").removeEventListener("webkitTransitionEnd",this.afteropenCallbackRef.bind(this),!1),this.afteropen.dispatch(a.querySelector(".popup-content")),this.status.data=!this.status.data,b=a.querySelector(".popup-container"),a.querySelector(".popup-content"),a.addEventListener("keyup",function(a){27==a.keyCode&&close()},!1),b.addEventListener("click",this._closeHandler.bind(this),!1))};g.prototype.open=function(){this.el.click()};
g.prototype.close=function(){a.querySelector(".popup-container").click()};g.prototype._closeHandler=function(b){var e={popupContainer:a.querySelector(".popup-container"),popupContent:a.querySelector(".popup-content"),popupBg:a.querySelector(".popup-bg"),popupWrap:a.querySelector(".popup-wrap")};b.target!==e.popupContainer&&b.target!==e.popupContent||this._closePopup(e)};g.prototype._closePopup=function(a){var e=a.popupBg,d=a.popupWrap;k.removeClass(e,"popup-ready");k.removeClass(d,"popup-ready");
e.addEventListener("transitionend",this._closePopupTransitionend.bind(this,event,a),!1)};g.prototype._closePopupTransitionend=function(b,e){var d=e.popupContent,c=e.popupBg,f=e.popupWrap;!0===this.status.data&&(this.afterclose.dispatch(d),this.status.data=!this.status.data,c?a.body.removeChild(c):void 0,f?a.body.removeChild(f):void 0)};g.prototype._getTemplate=function(){return this.template};g.prototype._counstructDOM=function(){var b=this.transitionEffect,e=a.createElement("div"),d=e.cloneNode(!1),
c=e.cloneNode(!1),f=e.cloneNode(!1),e=e.cloneNode(!1);k.addClass(d,"popup-bg");k.addClass(d,"popup-animation");k.addClass(c,"popup-wrap");k.addClass(c,"popup-animation");k.addClass(f,"popup-container");k.addClass(e,"popup-content");e.innerHTML=this._getTemplate();f.appendChild(e);void 0!=b&&k.addClass(e,b+"-animation-dialog");c.appendChild(f);a.body.insertAdjacentHTML("afterbegin",d.outerHTML+c.outerHTML);(b=a.querySelector(".popup-wrap button[data-role\x3d'close']"))&&b.addEventListener("click",
this.closePopup,!1);b=a.querySelector(".popup-wrap.popup-animation");d=a.querySelector(".popup-bg.popup-animation");b.offsetHeight;d.offsetHeight;d.style.transform="translateY(0px)";k.addClass(b,"popup-ready");k.addClass(d,"popup-ready")};f.ui.popup.super_type=g;"undefined"!==typeof module&&module.exports?module.exports=f:h.CAGE=f})(this);
(function(h){function g(a){this.el=a.element;this.template="!";this.transitionEffect=a.transitionEffect?a.transitionEffect:"zoom";this.templateUrl=a.templateUrl;this.templateLoader=a.templateLoader?a.templateLoader:function(a){return a};this.afteropen=new f("afteropen");this.afterclose=new f("afterclose");this.status={data:!1};this._init()}var a=h.CAGE||{};a.ui=a.ui||{};a.ui.popup=a.ui.popup||{};a.ui.popup.ajax=a.ui.popup.ajax||{};var f=a.event.emitter;g.prototype=a.ui.popup.prototype;a.ui.popup.ajax=
g;"undefined"!==typeof module&&module.exports?module.exports=a:h.CAGE=a})(this);
(function(h){function g(){this.wrapperCollections=[];this.itemCollections=[];this.init();this.setEvent()}function a(a){for(var c=0,b=0;a&&"body"!=a.tagName.toLowerCase()&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft-a.scrollLeft,b+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:b,left:c}}var f=h.document,k=h.CAGE||{};k.ui=k.ui||{};g.prototype.init=function(){var d=f.querySelectorAll(".parallax-wrapper"),c=this.wrapperCollections;[].forEach.call(d,function(a){c.push(a)});for(var b in c)[].forEach.call(c[b].querySelectorAll(".parallax-item"),
function(b){b.style.transform="translateY(0px)";var d=h.getComputedStyle(b);b.setAttribute("data-initialTopOffset",a(b).top);b.setAttribute("data-initialLeftOffset",a(b).left);b.setAttribute("data-initialTop",d.top);b.setAttribute("data-initialLeft",d.left);b.setAttribute("data-initialMarginLeft",d.marginLeft)})};g.prototype.setEvent=function(){f.addEventListener("mousemove",function(a){var c=f.querySelector(".parallax-wrapper").querySelectorAll(".parallax-item");[].forEach.call(c,function(b){var c=
parseInt(b.getAttribute("data-rangex"))||0,g=parseInt(b.getAttribute("data-rangey"))||0,k=-1<b.parentNode.getAttribute("class").indexOf("parallax-bg")||b.hasAttribute("data-reverse")?-1:1;h.getComputedStyle(f.body);var r=a.x?a.x/parseInt(h.innerWidth):0.5,m=a.y?a.y/parseInt(h.innerHeight):0.5;b.style.left=parseInt(b.getAttribute("data-initialLeftOffset"))+k*c*(r-0.5)+"px";b.style.marginLeft="0";b.style.top=parseInt(b.getAttribute("data-initialTopOffset"))+k*g*(m-0.5)-40+"px";b.style.marginTop="0"})},
!1);h.addEventListener("resize",function(d){d=f.querySelector(".parallax-wrapper").querySelectorAll(".parallax-item");[].forEach.call(d,function(c){c.setAttribute("style","");c.setAttribute("data-initialTopOffset",a(c).top);c.setAttribute("data-initialLeftOffset",a(c).left)})},!1)};k.ui.parallax=g;"undefined"!==typeof module&&module.exports?module.exports=k:h.CAGE=k})(this);